<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/alanshaw/david#readme"

    >david (v11.0.0)</a>
</h1>
<h4>Node.js module that tells you when your project npm dependencies are out of date.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.david">module david</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.batch">
            function <span class="apidocSignatureSpan">david.</span>batch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.getDependencies">
            function <span class="apidocSignatureSpan">david.</span>getDependencies
            <span class="apidocSignatureSpan">(manifest, opts, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.getUpdatedDependencies">
            function <span class="apidocSignatureSpan">david.</span>getUpdatedDependencies
            <span class="apidocSignatureSpan">(manifest, opts, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.isUpdated">
            function <span class="apidocSignatureSpan">david.</span>isUpdated
            <span class="apidocSignatureSpan">(dep, opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">david.</span>batch.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">david.</span>npm</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">david.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.david.batch">module david.batch</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.batch.batch">
            function <span class="apidocSignatureSpan">david.</span>batch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.david.batch.prototype">module david.batch.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.batch.prototype.call">
            function <span class="apidocSignatureSpan">david.batch.prototype.</span>call
            <span class="apidocSignatureSpan">(key, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.batch.prototype.exists">
            function <span class="apidocSignatureSpan">david.batch.prototype.</span>exists
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.batch.prototype.push">
            function <span class="apidocSignatureSpan">david.batch.prototype.</span>push
            <span class="apidocSignatureSpan">(key, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.david.npm">module david.npm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.npm.getVersionsInfo">
            function <span class="apidocSignatureSpan">david.npm.</span>getVersionsInfo
            <span class="apidocSignatureSpan">(name, opts, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.david.version">module david.version</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.version.getLatest">
            function <span class="apidocSignatureSpan">david.version.</span>getLatest
            <span class="apidocSignatureSpan">(current, versions, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.version.getLatestStable">
            function <span class="apidocSignatureSpan">david.version.</span>getLatestStable
            <span class="apidocSignatureSpan">(versions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.version.getVersionsInRange">
            function <span class="apidocSignatureSpan">david.version.</span>getVersionsInRange
            <span class="apidocSignatureSpan">(range, versions, loose)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.version.isScm">
            function <span class="apidocSignatureSpan">david.version.</span>isScm
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.david.version.isStable">
            function <span class="apidocSignatureSpan">david.version.</span>isStable
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.david" id="apidoc.module.david">module david</a></h1>


    <h2>
        <a href="#apidoc.element.david.batch" id="apidoc.element.david.batch">
        function <span class="apidocSignatureSpan">david.</span>batch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Batch() {
  if (!(this instanceof Batch)) return new Batch()
  this._batch = {}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.getDependencies" id="apidoc.element.david.getDependencies">
        function <span class="apidocSignatureSpan">david.</span>getDependencies
        <span class="apidocSignatureSpan">(manifest, opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getDependencies(manifest, opts, cb) {
  manifest = manifest || {}

  // Allow callback to be passed as second parameter
  if (!cb) {
    cb = opts
    opts = {}
  } else {
    opts = opts || {}
  }

  opts.error = opts.error || {}
  opts.ignore = opts.ignore || []

  if (manifest.david &#x26;&#x26; manifest.david.ignore) {
    opts.ignore = opts.ignore.concat(manifest.david.ignore)
  }

  var pkgs = {}
  var deps = normaliseDeps(manifest[depType(opts)] || {})
  var depNames = Object.keys(deps)
  var error // Return any error that occurred but don&#x27;t stop processing

  if (!depNames.length) {
    return setImmediate(function () { cb(null, pkgs) })
  }

  var tasks = depNames.map(function (depName) {
    return function (cb) {
      if (opts.ignore.indexOf(depName) &#x3e; -1) {
        return cb()
      }

      var err

      if (Object.prototype.toString.call(deps[depName]) !== &#x27;[object String]&#x27;) {
        err = new Error(&#x27;Non-string dependency: &#x27; + deps[depName])
        err.code = &#x27;EDEPTYPE&#x27;

        if (!opts.error.EDEPTYPE) {
          pkgs[depName] = {required: deps[depName], warn: err}
        } else {
          error = err
        }

        return cb()
      }

      if (Version.isScm(deps[depName])) {
        err = new Error(&#x27;SCM dependency: &#x27; + deps[depName])
        err.code = &#x27;ESCM&#x27;

        if (!opts.error.ESCM) {
          pkgs[depName] = {required: deps[depName], warn: err}
        } else {
          error = err
        }
        return cb()
      }

      Npm.getVersionsInfo(depName, opts, function (err, versionsInfo) {
        if (err) {
          if (!opts.error.E404 &#x26;&#x26; err.code === &#x27;E404&#x27;) {
            if (err === &#x27;404 Not Found&#x27;) {
              err = new Error(&#x27;404 Not Found: &#x27; + depName)
              err.pkgid = depName
              err.statusCode = 404
              err.code = &#x27;E404&#x27;
            }

            pkgs[depName] = {required: deps[depName], warn: err}
          } else {
            error = err
          }
          return cb()
        }

        try {
          var latestVersionInfo = Version.getLatest(versionsInfo.current, versionsInfo.versions, opts)

          pkgs[depName] = {
            required: deps[depName],
            stable: latestVersionInfo.stable,
            latest: latestVersionInfo.latest
          }

          if (opts.versions) {
            pkgs[depName].versions = versionsInfo.versions
          }

          if (opts.rangeVersions) {
            pkgs[depName].rangeVersions = Version.getVersionsInRange(deps[depName], versionsInfo.versions, opts.loose)
          }
        } catch (err) {
          error = err
        }

        cb()
      })
    }
  })

  parallel(tasks, function () { cb(error, pkgs) })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},
devDependencies: {
  &#x27;yyy&#x27;: &#x27;~0.0.0&#x27;,
  &#x27;zzz&#x27;: &#x27;~0.0.0&#x27;
}
};

david.<span class="apidocCodeKeywordSpan">getDependencies</span>(manifest, function (er, deps) {
console.log(&#x27;latest dependencies information for&#x27;, manifest.name);
listDependencies(deps);
});

david.getDependencies(manifest, { dev: true }, function (er, deps) {
console.log(&#x27;latest devDependencies information for&#x27;, manifest.name);
listDependencies(deps);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.getUpdatedDependencies" id="apidoc.element.david.getUpdatedDependencies">
        function <span class="apidocSignatureSpan">david.</span>getUpdatedDependencies
        <span class="apidocSignatureSpan">(manifest, opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUpdatedDependencies = function (manifest, opts, cb) {
  if (!cb) {
    cb = opts
    opts = {}
  } else {
    opts = opts || {}
  }
  opts.error = opts.error || {}

  getDependencies(manifest, opts, function (err, pkgs) {
    if (err) return cb(err)

    // Filter out the non-updated dependencies
    Object.keys(pkgs).forEach(function (depName) {
      if (pkgs[depName].warn) return

      if (!isUpdated(pkgs[depName], opts)) {
        delete pkgs[depName]
      }
    })

    cb(err, pkgs)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

david.getDependencies(manifest, { dev: true }, function (er, deps) {
console.log(&#x27;latest devDependencies information for&#x27;, manifest.name);
listDependencies(deps);
});

david.<span class="apidocCodeKeywordSpan">getUpdatedDependencies</span>(manifest, function (er, deps) {
console.log(&#x27;dependencies with newer versions for&#x27;, manifest.name);
listDependencies(deps);
});

david.getUpdatedDependencies(manifest, { dev: true }, function (er, deps) {
console.log(&#x27;devDependencies with newer versions for&#x27;, manifest.name);
listDependencies(deps);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.isUpdated" id="apidoc.element.david.isUpdated">
        function <span class="apidocSignatureSpan">david.</span>isUpdated
        <span class="apidocSignatureSpan">(dep, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isUpdated(dep, opts) {
  opts = opts || {}

  var required = dep.required || &#x27;*&#x27;

  // TODO: Handle tags correctly
  if (required !== &#x27;latest&#x27; &#x26;&#x26; required !== &#x27;*&#x27;) {
    var range = semver.validRange(required, opts.loose) || &#x27;&#x27;
    var version = opts.stable ? dep.stable : dep.latest

    if (version) {
      if (!range) {
        return true
      } else if (!semver.satisfies(version, range, opts.loose)) {
        if (opts.stable &#x26;&#x26; semver.gtr(version, range, opts.loose)) {
          return true
        } else if (!opts.stable) {
          return true
        }
      }
    }
  }
  return false
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.david.batch" id="apidoc.module.david.batch">module david.batch</a></h1>


    <h2>
        <a href="#apidoc.element.david.batch.batch" id="apidoc.element.david.batch.batch">
        function <span class="apidocSignatureSpan">david.</span>batch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Batch() {
  if (!(this instanceof Batch)) return new Batch()
  this._batch = {}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.david.batch.prototype" id="apidoc.module.david.batch.prototype">module david.batch.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.david.batch.prototype.call" id="apidoc.element.david.batch.prototype.call">
        function <span class="apidocSignatureSpan">david.batch.prototype.</span>call
        <span class="apidocSignatureSpan">(key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">call = function (key, cb) {
  var cbs = this._batch[key]
  this._batch[key] = null
  cbs.forEach(cb)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (batch.exists(name)) {
    return batch.push(name, cb)
  }

  batch.push(name, cb)

  npm.load(opts.npm || {}, function (err) {
    if (err) return batch.<span class="apidocCodeKeywordSpan">call</span>(name, function (cb) { cb(err) })

    npm.commands.view([name, &#x27;versions&#x27;, &#x27;time&#x27;], true, function (err, data) {
if (err) return batch.call(name, function (cb) { cb(err) })

var currentVersion = Object.keys(data)[0]
var versions = null
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.batch.prototype.exists" id="apidoc.element.david.batch.prototype.exists">
        function <span class="apidocSignatureSpan">david.batch.prototype.</span>exists
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (key) {
  return this._batch[key] != null
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * get when you `npm install [package]` and `versions` is a sorted array of
 * available versions for the dependency.
 * @param {String} name Dependency name
 * @param {Object} opts Options
 * @param {Object} [opts.npm] npm configuration options
 */
function getVersionsInfo (name, opts, cb) {
if (batch.<span class="apidocCodeKeywordSpan">exists</span>(name)) {
  return batch.push(name, cb)
}

batch.push(name, cb)

npm.load(opts.npm || {}, function (err) {
  if (err) return batch.call(name, function (cb) { cb(err) })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.batch.prototype.push" id="apidoc.element.david.batch.prototype.push">
        function <span class="apidocSignatureSpan">david.batch.prototype.</span>push
        <span class="apidocSignatureSpan">(key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (key, cb) {
  this._batch[key] = this._batch[key] || []
  this._batch[key].push(cb)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Create or add a callback function to the end of a batch for a given key.
* @param key
* @param cb
*/
Batch.prototype.push = function (key, cb) {
 this._batch[key] = this._batch[key] || []
 this._batch[key].<span class="apidocCodeKeywordSpan">push</span>(cb)
}

/**
* Determine if there is a batch for the given key.
* @param {String} key
* @returns {boolean}
*/
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.david.npm" id="apidoc.module.david.npm">module david.npm</a></h1>


    <h2>
        <a href="#apidoc.element.david.npm.getVersionsInfo" id="apidoc.element.david.npm.getVersionsInfo">
        function <span class="apidocSignatureSpan">david.npm.</span>getVersionsInfo
        <span class="apidocSignatureSpan">(name, opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getVersionsInfo(name, opts, cb) {
  if (batch.exists(name)) {
    return batch.push(name, cb)
  }

  batch.push(name, cb)

  npm.load(opts.npm || {}, function (err) {
    if (err) return batch.call(name, function (cb) { cb(err) })

    npm.commands.view([name, &#x27;versions&#x27;, &#x27;time&#x27;], true, function (err, data) {
      if (err) return batch.call(name, function (cb) { cb(err) })

      var currentVersion = Object.keys(data)[0]
      var versions = null

      // `npm view 0 versions` returns {}
      if (!currentVersion) {
        return batch.call(name, function (cb) {
          cb(new Error(&#x27;Failed to get versions for &#x27; + name))
        })
      }

      // Some packages simply don&#x27;t have a time object
      if (data[currentVersion].time) {
        versions = data[currentVersion].versions.sort(function (a, b) {
          a = data[currentVersion].time[a]
          b = data[currentVersion].time[b]
          return (a &#x3c; b ? -1 : (a &#x3e; b ? 1 : 0))
        })
      } else {
        versions = data[currentVersion].versions
      }

      batch.call(name, function (cb) {
        cb(null, { current: currentVersion, versions: versions })
      })
    })
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.david.version" id="apidoc.module.david.version">module david.version</a></h1>


    <h2>
        <a href="#apidoc.element.david.version.getLatest" id="apidoc.element.david.version.getLatest">
        function <span class="apidocSignatureSpan">david.version.</span>getLatest
        <span class="apidocSignatureSpan">(current, versions, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getLatest(current, versions, opts) {
  var stable = current
  var latest = versions[versions.length - 1]

  if (!isStable(stable)) {
    stable = getLatestStable(versions)
  }

  // getLatestStable might not have found a stable version
  if (stable) {
    // Latest is the most recent version with higher version than stable
    for (var i = versions.length - 1; i &#x3e;= 0; i--) {
      // If !opts.loose then this may throw
      if (semver.gt(versions[i], stable, opts.loose)) {
        latest = versions[i]
        break
      }
    }
  }

  return { latest: latest, stable: stable }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.version.getLatestStable" id="apidoc.element.david.version.getLatestStable">
        function <span class="apidocSignatureSpan">david.version.</span>getLatestStable
        <span class="apidocSignatureSpan">(versions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getLatestStable(versions) {
  versions = versions.slice()
  while (versions.length) {
    var version = versions.pop()
    if (isStable(version)) {
      return version
    }
  }
  return null
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.version.getVersionsInRange" id="apidoc.element.david.version.getVersionsInRange">
        function <span class="apidocSignatureSpan">david.version.</span>getVersionsInRange
        <span class="apidocSignatureSpan">(range, versions, loose)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getVersionsInRange(range, versions, loose) {
  return versions.filter(function (v) {
    return semver.satisfies(v, range, loose)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.version.isScm" id="apidoc.element.david.version.isScm">
        function <span class="apidocSignatureSpan">david.version.</span>isScm
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isScm(version) {
  var scmPrefixes = [&#x27;git:&#x27;, &#x27;git+ssh:&#x27;, &#x27;https:&#x27;, &#x27;git+https:&#x27;]
  var blacklisted = scmPrefixes.filter(function (prefix) {
    return version.indexOf(prefix) === 0
  })
  return !!blacklisted.length
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.david.version.isStable" id="apidoc.element.david.version.isStable">
        function <span class="apidocSignatureSpan">david.version.</span>isStable
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isStable(version) {
  return !unstablePattern.test(version || &#x27;&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
